#  Бизнес-документация

---

##  1. Роли пользователей и права

-  **Гость** — просмотр главной страницы, регистрация  
-  **Рекламодатель** — создание заказов, просмотр площадок, чат с площадками, проведение платежей  
-  **Площадка (блогер)** — создание профиля, выставление прайса, отклик на заказы, чат с рекламодателем
-  **Оба** — включает в себя роли **Рекламодатель** и **Площадка (блогер)**
-  **Администратор** — управление пользователями, модерация сделок, управление финансами  

---

##  2. Функциональные требования

- **1:** Система должна позволять пользователю создать аккаунт, указав уникальный email, пароль (минимум из 8 символов) и выбранную роль (Рекламодатель, Площадка или Оба).
- **2:** Система должна поддерживать вход через внешние OAuth-провайдеры (VK, Google).
Условия: аккаунт привязывается к существующему пользователю по email.
- **3:** Пользователь может редактировать данные личного профиля, включая описание, контакты, аватар, название организации, пароль.
- **4:** Рекламодатель может создать заказ, указав:
    + бюджет (положительное значение в рублях);
    + тематику (из предопределённого списка);
    + краткое описание.
- **5:** Рекламодатель может направить предложение одной или нескольким площадкам. При желании рекламодателя на одну заявку могут откликнуться сразу несколько площадок, т.е. от одной Application будет несколько Deal (сделок). Заявка будет считаться закрытой только тогда, когда завершится последняя сделка.
- **6:** Площадка может отправить отклик на заинтересовавшую заявку. После этого рекламодателю, создавшему эту заявку, приходит уведомление об отклике (внутреннее + email).
- **7:** Сделка создаётся только после подтверждения условий заявки обеими сторонами: рекламодателем и площадкой. При отклонении — заявка продолжает быть в статусе "В процессе", а сделка не создается.
- **8:** Рекламодатель и площадка могут просматривать историю своих сделок с фильтрами по статусу, дате, бюджету. 
- **9:** Система предоставляет чат между сторонами сделки. Поддерживаемые сущности: текст, изображения, документы.
- **10:** После завершения сделки каждая сторона может оставить отзыв, указав оценку (1–5) и текст. Пользователи могут оставлять отзыв только о тех сделках, в которых они принимали непосредственное участие. 
- **11:** Администратор может:
    + модерировать профили пользователей;
    + модерировать заявки;
    + удалять или скрывать отзывы;
    + просматривать историю переписки в рамках проверки жалоб;
    + просматривать историю всех транзакций и сделок;
    + ответить пользователю, который обратился с вопросом.
--- 


##  3. Нефункциональные требования

-  **Производительность:** поиск по 1 000 площадкам ≤ 1 сек  
-  **Доступность:** SLA 99,5%  
-  **Безопасность:** авторизация — JWT, хранение паролей — Hash + Salt  
-  **Масштабируемость:** поддержка нагрузки до 10k пользователей  

---

##  4. UI/UX прототипы

-  Главная страница — краткое описание проекта  
-  Каталог — список площадок и заказов с фильтрами  
-  Кабинет рекламодателя — редактирование профиля, создание заказа, баланс, статистика, список сделок  
-  Кабинет площадки — редактирование профиля, информация, баланс, статистика, список сделок  
-  Админ-панель — список пользователей, модерация  

---

##  5. Диаграммы процессов (BPMN/UML)

-  **Регистрация:**  
  Пользователь → Ввод email/пароль → Подтверждение email → Активный аккаунт → Заполнение аккаунта  

-  **Создание сделки:**  
  Рекламодатель/Площадка → Заказ → Площадка/Рекламодатель откликается → Согласование условий → Выполнение → Оплата → Завершение  

-  **Редактирование профиля:**  
  Рекламодатель/Площадка → Переход в ЛК → Редактирование профиля → Ввод новой информации → Обновление данных в БД → Отображение в профиле  

---

##  6. Тестовые сценарии 

-  **1:** Пользователь вводит корректный email и пароль → система пускает в личный кабинет  
-  **2:** Пользователь вводит неверный пароль → система возвращает ошибку  
-  **3:** Рекламодатель создаёт заказ без бюджета → система выдаёт ошибку валидации  
